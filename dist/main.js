(()=>{"use strict";const e=(()=>{async function e(e,t){const a=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=dbf592303e174c8d8d620709242601&q=${e}&days=3`,{mode:"cors"});return async function(e){const{weatherData:t,units:a}=e;return{units:a,location:{city:t.location.name,country:t.location.country},current:{date:(new Date).toLocaleDateString([],{hour:"numeric",minute:"numeric",second:"numeric",weekday:"long",year:"numeric",month:"short",day:"numeric"}),description:t.current.condition.text,weatherCode:t.current.condition.code,temp:"",tempC:Math.round(t.current.temp_c),tempF:Math.round(t.current.temp_f),feelsLike:"",feelsLikeC:Math.round(t.current.feelslike_c),feelsLikeF:Math.round(t.current.feelslike_f),humidity:t.current.humidity,clouds:t.current.cloud,chanceOfRain:t.forecast.forecastday[0].day.daily_chance_of_rain,uv:t.current.uv,vis:"",visKm:t.current.vis_km,visMiles:t.current.vis_miles,windSpeed:"",windSpeedKph:t.current.wind_kph,windSpeedMph:t.current.wind_mph,windDirection:t.current.wind_dir,windDegree:t.current.wind_degree},forecast:[...t.forecast.forecastday]}}({weatherData:await a.json(),units:t})}return{fetchData:async function(t,a){return{weatherData:await e(t,a),keys:await async function(){const e=await fetch("https://www.weatherapi.com/docs/weather_conditions.json",{mode:"cors"});return await e.json()}()}}}})(),t=function(e,t){!function(e,t){let a,r,n;"imperial"==t&&(a="miles",r="mph",n="F"),"metric"==t&&(a="km",r="m/s",n="C"),"metric"==t&&(e.weatherData.current.temp=e.weatherData.current.tempC,e.weatherData.current.feelsLike=e.weatherData.current.feelsLikeC,e.weatherData.current.vis=e.weatherData.current.visKm,e.weatherData.current.windSpeed=e.weatherData.current.windSpeedKph),"imperial"==t&&(e.weatherData.current.temp=e.weatherData.current.tempF,e.weatherData.current.feelsLike=e.weatherData.current.feelsLikeF,e.weatherData.current.vis=e.weatherData.current.visMiles,e.weatherData.current.windSpeed=e.weatherData.current.windSpeedMph);const c=document.querySelector(".location-display"),i=document.querySelector(".date-display"),o=document.querySelector(".current-temp"),u=document.querySelector(".description"),s=document.querySelector(".feels-like"),d=document.querySelector(".wind-data"),l=document.querySelector(".humidity-data"),m=document.querySelector(".uv-data"),h=document.querySelector(".visibility-data"),w=document.querySelector(".cloud-data"),p=document.querySelector(".precipitation-data");c.innerHTML=`${e.weatherData.location.city}, ${e.weatherData.location.country}`,i.innerHTML=`${e.weatherData.current.date}`,o.innerHTML=`${e.weatherData.current.temp}°${n}`,u.innerHTML=`${e.weatherData.current.description}`,s.innerHTML=`${e.weatherData.current.feelsLike}°${n}`,d.innerHTML=`${e.weatherData.current.windSpeed} ${a} ${e.weatherData.current.windDirection}`,l.innerHTML=`${e.weatherData.current.humidity}%`,m.innerHTML=`${e.weatherData.current.uv}`,h.innerHTML=`${e.weatherData.current.vis} ${a}`,w.innerHTML=`${e.weatherData.current.clouds}%`,p.innerHTML=`${e.weatherData.current.chanceOfRain}%`}(e,t),function(e,t){const a=e.weatherData.forecast,r=document.querySelector(".forecast");r.innerHTML="",a.forEach((e=>{let a,n;e.day.condition.weatherCode;const c=new Date(e.date),i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][c.getDay(c)];"imperial"==t&&(a=Math.round(e.day.maxtemp_f),n=Math.round(e.day.mintemp_f)),"metric"==t&&(a=Math.round(e.day.maxtemp_c),n=Math.round(e.day.mintemp_c));const o=document.createElement("div"),u=document.createElement("h2"),s=document.createElement("h2"),d=document.createElement("h2");o.classList.add("forecast-item"),d.classList.add("light-blue"),u.innerHTML=i,s.innerHTML=a,d.innerHTML=n,o.appendChild(u),o.appendChild(s),o.appendChild(d),r.appendChild(o)}))}(e,t),console.log(e)},a=(()=>{const a=document.querySelector(".top-nav"),r=document.querySelector(".search-input"),n=document.querySelector(".settings-metric"),c=document.querySelector(".settings-imperial");async function i(a="Cincinnati",r="imperial"){const n=await e.fetchData(a,r);t(n,r)}return{load:i,searchHandler:function(){let e,t;a.addEventListener("click",(async a=>{a.target.classList.contains("submit")||a.target.parentElement.classList.contains("submit")?(a.preventDefault(),e=r.value,i(e,t)):a.target.classList.contains("settings-metric")?(t="metric",c.classList.remove("settings-active"),n.classList.add("settings-active"),i(e,t)):a.target.classList.contains("settings-imperial")&&(t="imperial",n.classList.remove("settings-active"),c.classList.add("settings-active"),i(e,t))}))}}})();a.load(),a.searchHandler()})();