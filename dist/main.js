(()=>{"use strict";const e={fetchData:async function(e,t){return await async function(e,t){const n=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=dbf592303e174c8d8d620709242601&q=${e}&days=3`,{mode:"cors"});return async function(e){const{weatherData:t,units:n}=e;return{units:n,location:{city:t.location.name,country:t.location.country},current:{date:(new Date).toLocaleDateString([],{hour:"numeric",minute:"numeric",second:"numeric",weekday:"long",year:"numeric",month:"short",day:"numeric"}),description:t.current.condition.text,weatherIcon:t.current.condition.icon,temp:"",tempC:Math.round(t.current.temp_c),tempF:Math.round(t.current.temp_f),feelsLike:"",feelsLikeC:Math.round(t.current.feelslike_c),feelsLikeF:Math.round(t.current.feelslike_f),humidity:t.current.humidity,clouds:t.current.cloud,chanceOfRain:t.forecast.forecastday[0].day.daily_chance_of_rain,uv:t.current.uv,vis:"",visKm:t.current.vis_km,visMiles:t.current.vis_miles,windSpeed:"",windSpeedKph:t.current.wind_kph,windSpeedMph:t.current.wind_mph,windDirection:t.current.wind_dir,windDegree:t.current.wind_degree},forecast:[...t.forecast.forecastday]}}({weatherData:await n.json(),units:t})}(e,t)}},t=function(e,t){!function(e,t){let n,r,c;"imperial"==t&&(n="miles",r="mph",c="F"),"metric"==t&&(n="km",r="m/s",c="C"),"metric"==t&&(e.current.temp=e.current.tempC,e.current.feelsLike=e.current.feelsLikeC,e.current.vis=e.current.visKm,e.current.windSpeed=e.current.windSpeedKph),"imperial"==t&&(e.current.temp=e.current.tempF,e.current.feelsLike=e.current.feelsLikeF,e.current.vis=e.current.visMiles,e.current.windSpeed=e.current.windSpeedMph);const i=document.querySelector(".location-display"),a=document.querySelector(".date-display"),u=document.querySelector(".current-temp"),o=document.querySelector(".description"),s=document.querySelector(".feels-like"),d=document.querySelector(".wind-data"),l=document.querySelector(".humidity-data"),m=document.querySelector(".uv-data"),p=document.querySelector(".visibility-data"),y=document.querySelector(".cloud-data"),h=document.querySelector(".precipitation-data"),f=document.querySelector(".current-icon");i.innerHTML=`${e.location.city}, ${e.location.country}`,a.innerHTML=`${e.current.date}`,u.innerHTML=`${e.current.temp}°${c}`,o.innerHTML=`${e.current.description}`,s.innerHTML=`${e.current.feelsLike}°${c}`,d.innerHTML=`${e.current.windSpeed} ${n} ${e.current.windDirection}`,l.innerHTML=`${e.current.humidity}%`,m.innerHTML=`${e.current.uv}`,p.innerHTML=`${e.current.vis} ${n}`,y.innerHTML=`${e.current.clouds}%`,h.innerHTML=`${e.current.chanceOfRain}%`,f.src=`${e.current.weatherIcon}`}(e,t),function(e,t){const n=e.forecast,r=document.querySelector(".forecast");r.innerHTML="",n.forEach((e=>{let n,c;const i=new Date(e.date);i.setDate(i.getDate()+1);const a=i.toLocaleDateString([],{weekday:"long"});"imperial"==t&&(n=Math.round(e.day.maxtemp_f),c=Math.round(e.day.mintemp_f)),"metric"==t&&(n=Math.round(e.day.maxtemp_c),c=Math.round(e.day.mintemp_c));const u=document.createElement("div"),o=document.createElement("h2"),s=document.createElement("img"),d=document.createElement("h2"),l=document.createElement("h2");u.classList.add("forecast-item"),l.classList.add("light-blue"),o.innerHTML=a,s.src=`https:${e.day.condition.icon}`,d.innerHTML=n,l.innerHTML=c,u.appendChild(o),u.appendChild(s),u.appendChild(d),u.appendChild(l),r.appendChild(u)}))}(e,t)},n=(()=>{const n=document.querySelector(".top-nav"),r=document.querySelector(".search-input"),c=document.querySelector(".settings-metric"),i=document.querySelector(".settings-imperial");async function a(n="Cincinnati",r="imperial"){const c=await e.fetchData(n,r);t(c,r)}return{load:a,searchHandler:function(){let e,t;n.addEventListener("click",(async n=>{n.target.classList.contains("submit")||n.target.parentElement.classList.contains("submit")?(n.preventDefault(),e=r.value,a(e,t)):n.target.classList.contains("settings-metric")?(t="metric",i.classList.remove("settings-active"),c.classList.add("settings-active"),a(e,t)):n.target.classList.contains("settings-imperial")&&(t="imperial",c.classList.remove("settings-active"),i.classList.add("settings-active"),a(e,t))}))}}})();n.load(),n.searchHandler()})();